"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[4437],{5705:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>o});var t=i(7701);const s={},c=t.createContext(s);function r(e){const n=t.useContext(c);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(c.Provider,{value:n},e.children)}},9633:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"actionlint-best-practices","title":"actionlint best practices","description":"This doc summarizes pragmatic guidance for using actionlint effectively in CI","source":"@site/docs/actionlint-best-practices.md","sourceDirName":".","slug":"/actionlint-best-practices","permalink":"/imessage-timeline/docs/actionlint-best-practices","draft":false,"unlisted":false,"editUrl":"https://github.com/nathanvale/imessage-timeline/tree/main/website/docs/actionlint-best-practices.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Monorepo & Documentation Strategy Recommendations","permalink":"/imessage-timeline/docs/MONOREPO_RECOMMENDATIONS"},"next":{"title":"actionlint quickstart","permalink":"/imessage-timeline/docs/actionlint-quickstart"}}');var s=i(6801),c=i(5705);const r={},o="actionlint best practices",a={},l=[{value:"When and where to run actionlint",id:"when-and-where-to-run-actionlint",level:2},{value:"Configuration and ignores",id:"configuration-and-ignores",level:2},{value:"ShellCheck integration",id:"shellcheck-integration",level:2},{value:"CI action wrapper best practices",id:"ci-action-wrapper-best-practices",level:2},{value:"Security hardening tie-ins",id:"security-hardening-tie-ins",level:2},{value:"References",id:"references",level:2}];function h(e){const n={a:"a",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"actionlint-best-practices",children:"actionlint best practices"})}),"\n",(0,s.jsx)(n.p,{children:"This doc summarizes pragmatic guidance for using actionlint effectively in CI\nand locally. It includes links to authoritative sources and avoids long quotes."}),"\n",(0,s.jsx)(n.h2,{id:"when-and-where-to-run-actionlint",children:"When and where to run actionlint"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Run in CI on PRs and pushes touching .github/workflows/**, fail on errors"}),"\n",(0,s.jsx)(n.li,{children:"Optionally add a pre-commit hook to lint staged workflow files for fast\nfeedback"}),"\n",(0,s.jsx)(n.li,{children:"Use Problem Matchers or reviewdog to annotate PRs with inline diagnostics"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"configuration-and-ignores",children:"Configuration and ignores"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Prefer repo config at .github/actionlint.yaml for persistent, scoped ignores"}),"\n",(0,s.jsx)(n.li,{children:"Use path-scoped ignore patterns to avoid blanket disables (keep signal high)"}),"\n",(0,s.jsx)(n.li,{children:"For unavoidable noise, prefer narrow, line-level ShellCheck disables in run\nblocks"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"shellcheck-integration",children:"ShellCheck integration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Make shell explicit: shell: bash on steps with run:"}),"\n",(0,s.jsx)(n.li,{children:"Use quoted $(...) command substitutions and double-quote all expansions"}),"\n",(0,s.jsx)(n.li,{children:"Prefer actions over inline scripts for complex logic; or externalize to .sh\nfiles"}),"\n",(0,s.jsx)(n.li,{children:"Avoid bash-specific parameter expansions in CI unless necessary; note\nportability"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"ci-action-wrapper-best-practices",children:"CI action wrapper best practices"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"With raven-actions/actionlint, use flags (not args); enable group-result"}),"\n",(0,s.jsx)(n.li,{children:"Pin to a commit SHA or trust the maintainer; enable cache to speed up runs"}),"\n",(0,s.jsx)(n.li,{children:"Enable shellcheck/pyflakes where available for deeper checks"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"security-hardening-tie-ins",children:"Security hardening tie-ins"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Pin third-party actions to full-length commit SHAs"}),"\n",(0,s.jsx)(n.li,{children:"Pass untrusted inputs via env indirection to avoid script injection pitfalls"}),"\n",(0,s.jsx)(n.li,{children:"Set minimal GITHUB_TOKEN permissions; elevate per-job only when needed"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["actionlint README \u2014 ",(0,s.jsx)(n.a,{href:"https://github.com/rhysd/actionlint",children:"https://github.com/rhysd/actionlint"})," (Feature overview,\nchecks, and links to usage/config docs)"]}),"\n",(0,s.jsxs)(n.li,{children:["actionlint Usage \u2014 ",(0,s.jsx)(n.a,{href:"https://github.com/rhysd/actionlint/blob/main/docs/usage.md",children:"https://github.com/rhysd/actionlint/blob/main/docs/usage.md"}),"\n(Flags like -ignore, Docker usage, pre-commit integration)"]}),"\n",(0,s.jsxs)(n.li,{children:["actionlint Configuration \u2014\n",(0,s.jsx)(n.a,{href:"https://github.com/rhysd/actionlint/blob/main/docs/config.md",children:"https://github.com/rhysd/actionlint/blob/main/docs/config.md"})," (Repository-level\nconfig and path-scoped ignores)"]}),"\n",(0,s.jsxs)(n.li,{children:["ShellCheck SC2209 \u2014 ",(0,s.jsx)(n.a,{href:"https://www.shellcheck.net/wiki/SC2209",children:"https://www.shellcheck.net/wiki/SC2209"})," (Canonical guidance\nfor string vs command substitutions)"]}),"\n",(0,s.jsxs)(n.li,{children:["raven-actions/actionlint \u2014 ",(0,s.jsx)(n.a,{href:"https://github.com/raven-actions/actionlint",children:"https://github.com/raven-actions/actionlint"})," (Action\nwrapper inputs: flags, version, group-result, cache)"]}),"\n",(0,s.jsxs)(n.li,{children:["GitHub Actions security hardening \u2014\n",(0,s.jsx)(n.a,{href:"https://docs.github.com/en/actions/security-guides/security-hardening-for-github-actions",children:"https://docs.github.com/en/actions/security-guides/security-hardening-for-github-actions"}),"\n(Inline script hardening, env indirection, SHA pinning)"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);