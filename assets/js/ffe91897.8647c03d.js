"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[1342],{2404:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"prettier-best-practices","title":"Prettier Best Practices & Formatting Strategy","description":"This document outlines formatting strategy choices for imessage-timeline,","source":"@site/docs/prettier-best-practices.md","sourceDirName":".","slug":"/prettier-best-practices","permalink":"/imessage-timeline/docs/prettier-best-practices","draft":false,"unlisted":false,"editUrl":"https://github.com/nathanvale/imessage-timeline/tree/main/website/docs/prettier-best-practices.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Pre-Release Guide - Canary, Beta, and RC Releases","permalink":"/imessage-timeline/docs/pre-release-guide"},"next":{"title":"Release Channels & Prerelease Strategy","permalink":"/imessage-timeline/docs/release-channels"}}');var s=n(6801),t=n(5705);const l={},a="Prettier Best Practices & Formatting Strategy",c={},o=[{value:"Goals",id:"goals",level:2},{value:"Configuration Summary",id:"configuration-summary",level:2},{value:"Scripts",id:"scripts",level:2},{value:"Recommended Workflow",id:"recommended-workflow",level:2},{value:"Lint-Staged Integration",id:"lint-staged-integration",level:2},{value:"Firecrawl &amp; Enrichment Considerations",id:"firecrawl--enrichment-considerations",level:2},{value:"IDE Tips",id:"ide-tips",level:2},{value:"Why Not More Plugins?",id:"why-not-more-plugins",level:2},{value:"Future Enhancements (Roadmap)",id:"future-enhancements-roadmap",level:2},{value:"Validation Checklist",id:"validation-checklist",level:2},{value:"Cross References",id:"cross-references",level:2}];function d(e){const i={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",input:"input",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"prettier-best-practices--formatting-strategy",children:"Prettier Best Practices & Formatting Strategy"})}),"\n",(0,s.jsxs)(i.p,{children:["This document outlines formatting strategy choices for ",(0,s.jsx)(i.code,{children:"imessage-timeline"}),",\nuplift actions taken, and future improvements leveraging Prettier (2025 state)\nplus ecosystem anecdotes (Context7 usage; Firecrawl-related JSON normalization\nneeds)."]}),"\n",(0,s.jsx)(i.h2,{id:"goals",children:"Goals"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Consistent, minimal configuration\u2014easy to reason about and update."}),"\n",(0,s.jsx)(i.li,{children:"Developer-friendly defaults (printWidth 80 for readability, widen only where\nintent matters)."}),"\n",(0,s.jsx)(i.li,{children:"Deterministic JSON & config sorting for stable diffs."}),"\n",(0,s.jsxs)(i.li,{children:["Fast CI verification (",(0,s.jsx)(i.code,{children:"format:check"}),") separate from mutation."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"configuration-summary",children:"Configuration Summary"}),"\n",(0,s.jsxs)(i.p,{children:["File: ",(0,s.jsx)(i.code,{children:"prettier.config.mjs"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Global ",(0,s.jsx)(i.code,{children:"printWidth: 80"})," (matches project guidance; avoids horizontal scroll in\nreviews)."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"trailingComma: 'all'"})," for cleaner diffs."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"semi: false"}),", ",(0,s.jsx)(i.code,{children:"singleQuote: true"}),", ",(0,s.jsx)(i.code,{children:"arrowParens: 'always'"})," aligning coding\nconvention."]}),"\n",(0,s.jsxs)(i.li,{children:["Plugin: ",(0,s.jsx)(i.code,{children:"prettier-plugin-sort-json"})," with ",(0,s.jsx)(i.code,{children:"jsonRecursiveSort"})," for deterministic\nJSON ordering (useful for config diffs and Firecrawl API payload snapshots)."]}),"\n",(0,s.jsxs)(i.li,{children:["Targeted overrides only:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"package.json"}),": stringify parser, curated width."]}),"\n",(0,s.jsx)(i.li,{children:"Generic JSON/JSONC: remove trailing comma, keep structural clarity."}),"\n",(0,s.jsxs)(i.li,{children:["Markdown: ",(0,s.jsx)(i.code,{children:"proseWrap: 'always'"})," aids stable copy edits; line length\nintention explicit."]}),"\n",(0,s.jsxs)(i.li,{children:["Test files: allow ",(0,s.jsx)(i.code,{children:"printWidth: 100"})," for nested ",(0,s.jsx)(i.code,{children:"describe()"})," readability."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Removed: Large matrix of language-specific overrides; rely on Prettier core\ndefaults where not critical."}),"\n",(0,s.jsx)(i.h2,{id:"scripts",children:"Scripts"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"format"}),": write mode."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"format:check"}),": non-mutating verification (ideal for CI gating)."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"recommended-workflow",children:"Recommended Workflow"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"# Format all files\npnpm format\n\n# Verify formatting (CI/local preflight)\npnpm format:check\n"})}),"\n",(0,s.jsx)(i.h2,{id:"lint-staged-integration",children:"Lint-Staged Integration"}),"\n",(0,s.jsxs)(i.p,{children:["Existing ",(0,s.jsx)(i.code,{children:"lint-staged"})," already formats staged sources; consider adding ",(0,s.jsx)(i.code,{children:"*.md"})," if\nfrequent doc edits need enforced wrap (optional\u2014currently included via glob\npattern)."]}),"\n",(0,s.jsx)(i.h2,{id:"firecrawl--enrichment-considerations",children:"Firecrawl & Enrichment Considerations"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Link enrichment may produce JSON configuration or cached payloads; sorted JSON\nreduces noisy diffs in checkpoint/state files."}),"\n",(0,s.jsx)(i.li,{children:"If Firecrawl adds structured site extraction metadata, enabling stable key\norder simplifies deterministic pipelines."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"ide-tips",children:"IDE Tips"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:'Enable "Format on Save" for supported file types.'}),"\n",(0,s.jsxs)(i.li,{children:["Run ",(0,s.jsx)(i.code,{children:"format:check"})," in pre-push hook if formatting churn is high (optional; not\nadded yet to avoid friction)."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"why-not-more-plugins",children:"Why Not More Plugins?"}),"\n",(0,s.jsx)(i.p,{children:"Minimalism reduces plugin surface area, avoiding perf dips and conflicting style\ntransformations. Domain-specific plugins (Tailwind, XML) not required in current\ncodebase."}),"\n",(0,s.jsx)(i.h2,{id:"future-enhancements-roadmap",children:"Future Enhancements (Roadmap)"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Shareable config package export (",(0,s.jsx)(i.code,{children:"@imessage/prettier-config"}),") if multi-repo\nadoption occurs."]}),"\n",(0,s.jsx)(i.li,{children:"Optional Tailwind plugin if utility-first CSS introduced later."}),"\n",(0,s.jsx)(i.li,{children:"Add Prettier cache warm strategy in CI (reuse node_modules + incremental).\nWith pnpm caching, current gain is marginal."}),"\n",(0,s.jsx)(i.li,{children:"Introduce formatting stats job to surface diff counts per PR (observability)."}),"\n",(0,s.jsxs)(i.li,{children:["Evaluate ",(0,s.jsx)(i.code,{children:"@prettier/plugin-oxc"})," performance once stable for TS heavy repos\n(2025 anecdotal gains ~5\u201310%)."]}),"\n",(0,s.jsx)(i.li,{children:"Add automated Markdown link/anchor normalization preprocessor (remark\npipeline) if docs scale further."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"validation-checklist",children:"Validation Checklist"}),"\n",(0,s.jsxs)(i.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(i.li,{className:"task-list-item",children:[(0,s.jsx)(i.input,{type:"checkbox",checked:!0,disabled:!0})," ","Config simplified & committed."]}),"\n",(0,s.jsxs)(i.li,{className:"task-list-item",children:[(0,s.jsx)(i.input,{type:"checkbox",checked:!0,disabled:!0})," ","Scripts added (",(0,s.jsx)(i.code,{children:"format:check"}),")."]}),"\n",(0,s.jsxs)(i.li,{className:"task-list-item",children:[(0,s.jsx)(i.input,{type:"checkbox",checked:!0,disabled:!0})," ","Overrides reflect project rules (80 width baseline)."]}),"\n",(0,s.jsxs)(i.li,{className:"task-list-item",children:[(0,s.jsx)(i.input,{type:"checkbox",checked:!0,disabled:!0})," ","JSON deterministic ordering active."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"cross-references",children:"Cross References"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["See ",(0,s.jsx)(i.code,{children:"docs/package-hygiene.md"})," for publish surface integrity."]}),"\n",(0,s.jsxs)(i.li,{children:["Release notes formatting aided by consistent prose wrapping (see\n",(0,s.jsx)(i.code,{children:"docs/automated-release-workflow.md"}),")."]}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsxs)(i.p,{children:["Feedback or proposed adjustments: open an issue with label ",(0,s.jsx)(i.code,{children:"formatting"}),"."]})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},5705:(e,i,n)=>{n.d(i,{R:()=>l,x:()=>a});var r=n(7701);const s={},t=r.createContext(s);function l(e){const i=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:i},e.children)}}}]);