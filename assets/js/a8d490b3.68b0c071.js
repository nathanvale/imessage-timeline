"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[326],{2165:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"pre-release-guide","title":"Pre-Release Guide - Canary, Beta, and RC Releases","description":"Current Status: Pre-release mode ACTIVE with next channel (canary","source":"@site/docs/pre-release-guide.md","sourceDirName":".","slug":"/pre-release-guide","permalink":"/chatline/docs/pre-release-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/nathanvale/chatline/tree/main/website/docs/pre-release-guide.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Pre-Mode Workflow Consolidation Plan","permalink":"/chatline/docs/pre-mode-consolidation-plan"},"next":{"title":"Prettier Best Practices & Formatting Strategy","permalink":"/chatline/docs/prettier-best-practices"}}');var l=s(6801),i=s(5705);const t={},d="Pre-Release Guide - Canary, Beta, and RC Releases",a={},c=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Quick Reference",id:"quick-reference",level:2},{value:"I Want To...",id:"i-want-to",level:3},{value:"Understanding Pre-Release Modes",id:"understanding-pre-release-modes",level:2},{value:"What is Pre-Release Mode?",id:"what-is-pre-release-mode",level:3},{value:"Pre-Release vs Normal Mode",id:"pre-release-vs-normal-mode",level:3},{value:"When Pre-Release Mode is On",id:"when-pre-release-mode-is-on",level:3},{value:"When Pre-Release Mode is Off",id:"when-pre-release-mode-is-off",level:3},{value:"Current Setup",id:"current-setup",level:2},{value:"Status",id:"status",level:3},{value:"Configured Workflows",id:"configured-workflows",level:3},{value:"How to Toggle Pre-Release Mode",id:"how-to-toggle-pre-release-mode",level:2},{value:"Turning Pre-Release Mode ON",id:"turning-pre-release-mode-on",level:3},{value:"Turning Pre-Release Mode OFF",id:"turning-pre-release-mode-off",level:3},{value:"Checking Current Status",id:"checking-current-status",level:3},{value:"Publishing Options",id:"publishing-options",level:2},{value:"Option 1: Snapshot Release (Quick &amp; Dirty)",id:"option-1-snapshot-release-quick--dirty",level:3},{value:"Option 2: Versioned Pre-Release (Proper)",id:"option-2-versioned-pre-release-proper",level:3},{value:"Option 3: Automated Nightly (Hands-Off)",id:"option-3-automated-nightly-hands-off",level:3},{value:"Common Workflows",id:"common-workflows",level:2},{value:"Workflow 1: Quick Pre-Release for Testing (In Pre-Mode)",id:"workflow-1-quick-pre-release-for-testing-in-pre-mode",level:3},{value:"Workflow 2: Structured Beta Cycle",id:"workflow-2-structured-beta-cycle",level:3},{value:"Workflow 3: Multi-Channel Promotion",id:"workflow-3-multi-channel-promotion",level:3},{value:"Channel Strategy",id:"channel-strategy",level:2},{value:"Channel Comparison",id:"channel-comparison",level:3},{value:"Recommended Strategy",id:"recommended-strategy",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Problem: Pre-mode workflow fails with &quot;no changes to commit&quot;",id:"problem-pre-mode-workflow-fails-with-no-changes-to-commit",level:3},{value:"Problem: Published to wrong tag",id:"problem-published-to-wrong-tag",level:3},{value:"Problem: Snapshot doesn&#39;t work",id:"problem-snapshot-doesnt-work",level:3},{value:"Problem: Can&#39;t exit pre-mode",id:"problem-cant-exit-pre-mode",level:3},{value:"Problem: Version number is wrong",id:"problem-version-number-is-wrong",level:3},{value:"Additional Resources",id:"additional-resources",level:2},{value:"Related Documentation",id:"related-documentation",level:3},{value:"External Links",id:"external-links",level:3},{value:"Package Scripts Reference",id:"package-scripts-reference",level:3},{value:"Summary",id:"summary",level:2}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"pre-release-guide---canary-beta-and-rc-releases",children:"Pre-Release Guide - Canary, Beta, and RC Releases"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Current Status"}),": Pre-release mode ",(0,l.jsx)(n.strong,{children:"ACTIVE"})," with ",(0,l.jsx)(n.code,{children:"next"})," channel (canary\nreleases) at version ",(0,l.jsx)(n.code,{children:"0.0.1"})]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["This guide explains how to publish pre-release versions of ",(0,l.jsx)(n.code,{children:"chatline"}),"\nfor testing, early access, and staged rollouts."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#quick-reference",children:"Quick Reference"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#understanding-pre-release-modes",children:"Understanding Pre-Release Modes"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#current-setup",children:"Current Setup"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#how-to-toggle-pre-release-mode",children:"How to Toggle Pre-Release Mode"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#publishing-options",children:"Publishing Options"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#common-workflows",children:"Common Workflows"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#channel-strategy",children:"Channel Strategy"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#troubleshooting",children:"Troubleshooting"})}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"quick-reference",children:"Quick Reference"}),"\n",(0,l.jsx)(n.h3,{id:"i-want-to",children:"I Want To..."}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Goal"}),(0,l.jsx)(n.th,{children:"Command"}),(0,l.jsx)(n.th,{children:"Prerequisites"}),(0,l.jsx)(n.th,{children:"What It Does"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Publish a quick snapshot build"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"pnpm release:snapshot:canary"})}),(0,l.jsxs)(n.td,{children:["\u26a0\ufe0f ",(0,l.jsx)(n.strong,{children:"Must NOT be in pre-mode"})]}),(0,l.jsxs)(n.td,{children:["Instant publish as ",(0,l.jsx)(n.code,{children:"0.0.1-canary-20251116001234"})," with ",(0,l.jsx)(n.code,{children:"@canary"})," tag"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Publish a proper canary release"})}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"pnpm changeset"})," \u2192 ",(0,l.jsx)(n.code,{children:"pnpm changeset version"})," \u2192 ",(0,l.jsx)(n.code,{children:"pnpm publish:pre"})]}),(0,l.jsxs)(n.td,{children:["\u2705 ",(0,l.jsx)(n.strong,{children:"Must be in pre-mode (next)"})]}),(0,l.jsxs)(n.td,{children:["Versioned release as ",(0,l.jsx)(n.code,{children:"0.0.1-next.0"})," with ",(0,l.jsx)(n.code,{children:"@next"})," tag"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Enter beta mode"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"gh workflow run pre-mode.yml -f action=enter -f channel=beta"})}),(0,l.jsx)(n.td,{children:"-"}),(0,l.jsxs)(n.td,{children:["Switch to ",(0,l.jsx)(n.code,{children:"beta"})," channel for ",(0,l.jsx)(n.code,{children:"0.0.1-beta.0"})," releases"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Exit pre-release mode"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"gh workflow run pre-mode.yml -f action=exit -f channel=next"})}),(0,l.jsx)(n.td,{children:"-"}),(0,l.jsx)(n.td,{children:"Return to normal stable releases"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Check current mode"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"cat .changeset/pre.json"})}),(0,l.jsx)(n.td,{children:"-"}),(0,l.jsx)(n.td,{children:"Shows current pre-release configuration (file exists = pre-mode ON)"})]})]})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"understanding-pre-release-modes",children:"Understanding Pre-Release Modes"}),"\n",(0,l.jsx)(n.h3,{id:"what-is-pre-release-mode",children:"What is Pre-Release Mode?"}),"\n",(0,l.jsxs)(n.p,{children:["Pre-release mode tells Changesets to ",(0,l.jsx)(n.strong,{children:"add a suffix"})," to versions when\npublishing. This allows you to:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Test features without affecting stable users"}),"\n",(0,l.jsx)(n.li,{children:"Gather feedback before final release"}),"\n",(0,l.jsx)(n.li,{children:"Provide early access to new features"}),"\n",(0,l.jsx)(n.li,{children:"Stage releases through channels (canary \u2192 beta \u2192 rc \u2192 stable)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"pre-release-vs-normal-mode",children:"Pre-Release vs Normal Mode"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"NORMAL MODE (OFF):\n\u251c\u2500 Changesets create: 0.0.1, 0.0.2, 0.0.3\n\u251c\u2500 Published with tag: @latest\n\u2514\u2500 Users install: npm install chatline\n\nPRE-RELEASE MODE (ON - next channel):\n\u251c\u2500 Changesets create: 0.0.1-next.0, 0.0.1-next.1, 0.0.1-next.2\n\u251c\u2500 Published with tag: @next\n\u2514\u2500 Users install: npm install chatline@next\n"})}),"\n",(0,l.jsx)(n.h3,{id:"when-pre-release-mode-is-on",children:"When Pre-Release Mode is On"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u2705 File ",(0,l.jsx)(n.code,{children:".changeset/pre.json"})," exists"]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Versions get suffixes: ",(0,l.jsx)(n.code,{children:"-next.0"}),", ",(0,l.jsx)(n.code,{children:"-beta.1"}),", ",(0,l.jsx)(n.code,{children:"-rc.2"})]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Published to dist-tag matching channel (",(0,l.jsx)(n.code,{children:"next"}),", ",(0,l.jsx)(n.code,{children:"beta"}),", ",(0,l.jsx)(n.code,{children:"rc"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Stable users unaffected (they still get ",(0,l.jsx)(n.code,{children:"@latest"}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"when-pre-release-mode-is-off",children:"When Pre-Release Mode is Off"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u274c File ",(0,l.jsx)(n.code,{children:".changeset/pre.json"})," doesn't exist"]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Versions are normal: ",(0,l.jsx)(n.code,{children:"0.0.1"}),", ",(0,l.jsx)(n.code,{children:"0.0.2"}),", ",(0,l.jsx)(n.code,{children:"0.0.3"})]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Published to ",(0,l.jsx)(n.code,{children:"@latest"})," tag"]}),"\n",(0,l.jsx)(n.li,{children:"\u2705 Default behavior for production releases"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"current-setup",children:"Current Setup"}),"\n",(0,l.jsx)(n.h3,{id:"status",children:"Status"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "changesets": [],\n  "initialVersions": {\n    "chatline": "0.0.1"\n  },\n  "mode": "pre",\n  "tag": "next"\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"What this means:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u2705 Pre-release mode is ",(0,l.jsx)(n.strong,{children:"ACTIVE"})]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Channel: ",(0,l.jsx)(n.code,{children:"next"})," (canary releases)"]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Base version: ",(0,l.jsx)(n.code,{children:"0.0.1"})]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Next version will be: ",(0,l.jsx)(n.code,{children:"0.0.1-next.0"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"configured-workflows",children:"Configured Workflows"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Workflow"}),(0,l.jsx)(n.th,{children:"Purpose"}),(0,l.jsx)(n.th,{children:"When It Runs"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"pre-mode.yml"})}),(0,l.jsx)(n.td,{children:"Enter/exit pre-release mode"}),(0,l.jsx)(n.td,{children:"Manual trigger only"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"alpha-snapshot.yml"})}),(0,l.jsx)(n.td,{children:"Nightly canary snapshots"}),(0,l.jsx)(n.td,{children:"Daily at 02:00 UTC (when pre-mode active)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"changesets-manage-publish.yml"})}),(0,l.jsx)(n.td,{children:"Normal version/publish flow"}),(0,l.jsx)(n.td,{children:"On push to main"})]})]})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"how-to-toggle-pre-release-mode",children:"How to Toggle Pre-Release Mode"}),"\n",(0,l.jsx)(n.h3,{id:"turning-pre-release-mode-on",children:"Turning Pre-Release Mode ON"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Command:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"gh workflow run pre-mode.yml -f action=enter -f channel=next\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"What happens:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Workflow creates branch: ",(0,l.jsx)(n.code,{children:"pre/enter-next-{run-id}"})]}),"\n",(0,l.jsxs)(n.li,{children:["Creates ",(0,l.jsx)(n.code,{children:".changeset/pre.json"})," file"]}),"\n",(0,l.jsx)(n.li,{children:'Opens PR: "chore(pre): enter next channel"'}),"\n",(0,l.jsx)(n.li,{children:"After PR merges \u2192 Pre-release mode is active"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Available channels:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"next"})," - For canary/nightly releases (fast iteration)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"beta"})," - For beta testing (feature complete)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"rc"})," - For release candidates (final testing)"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"turning-pre-release-mode-off",children:"Turning Pre-Release Mode OFF"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Command:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"gh workflow run pre-mode.yml -f action=exit -f channel=next\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"What happens:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Workflow creates branch: ",(0,l.jsx)(n.code,{children:"pre/exit-next-{run-id}"})]}),"\n",(0,l.jsxs)(n.li,{children:["Deletes ",(0,l.jsx)(n.code,{children:".changeset/pre.json"})," file"]}),"\n",(0,l.jsx)(n.li,{children:'Opens PR: "chore(pre): exit next channel"'}),"\n",(0,l.jsx)(n.li,{children:"After PR merges \u2192 Back to normal stable releases"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"checking-current-status",children:"Checking Current Status"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Quick check:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# If this file exists, pre-release mode is ON\ncat .changeset/pre.json\n\n# If file doesn't exist, pre-release mode is OFF\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"View details:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cat .changeset/pre.json | jq '.'\n# Output shows: mode, tag, initialVersions\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"publishing-options",children:"Publishing Options"}),"\n",(0,l.jsx)(n.h3,{id:"option-1-snapshot-release-quick--dirty",children:"Option 1: Snapshot Release (Quick & Dirty)"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:["\u26a0\ufe0f ",(0,l.jsx)(n.strong,{children:"IMPORTANT:"})," Snapshot releases do NOT work when in pre-release mode."]}),"\n",(0,l.jsxs)(n.p,{children:["If ",(0,l.jsx)(n.code,{children:".changeset/pre.json"})," exists (pre-mode is active), you will get this error:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"\ud83e\udd8b error Snapshot release is not allowed in pre mode\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"To use snapshots:"})," Exit pre-release mode first with:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"gh workflow run pre-mode.yml -f action=exit -f channel=next\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Alternative:"})," Use versioned pre-releases (Option 2) instead."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use when:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"You need to test something RIGHT NOW without version tracking"}),"\n",(0,l.jsxs)(n.li,{children:["You are ",(0,l.jsx)(n.strong,{children:"NOT in pre-release mode"})," (no ",(0,l.jsx)(n.code,{children:".changeset/pre.json"})," file)"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Command:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"pnpm release:snapshot:canary\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"What it does:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u2705 ",(0,l.jsx)(n.strong,{children:"No changeset needed"})," - publishes immediately"]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Creates timestamp-based version: ",(0,l.jsx)(n.code,{children:"0.0.1-canary-20251116001234"})]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Publishes to npm with ",(0,l.jsx)(n.code,{children:"@canary"})," tag"]}),"\n",(0,l.jsxs)(n.li,{children:["\u274c ",(0,l.jsx)(n.strong,{children:"No git commit"})," - not tracked in version history"]}),"\n",(0,l.jsxs)(n.li,{children:["\u274c ",(0,l.jsx)(n.strong,{children:"No CHANGELOG entry"})," - ephemeral release"]}),"\n",(0,l.jsxs)(n.li,{children:["\u26a0\ufe0f ",(0,l.jsx)(n.strong,{children:"Only works when NOT in pre-mode"})," - Changesets limitation"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Version format:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"0.0.1-canary-20251116001234\n       ^^^^^^ ^^^^^^^^^^^^^^\n       tag    timestamp (YYYYMMDDHHmmSS)\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Users install:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm install chatline@canary\n# or pin specific version:\nnpm install chatline@0.0.1-canary-20251116001234\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"When to use:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Quick bug fix validation"}),"\n",(0,l.jsx)(n.li,{children:"Sharing work-in-progress with team"}),"\n",(0,l.jsx)(n.li,{children:"CI/CD integration testing"}),"\n",(0,l.jsx)(n.li,{children:"Throwaway experimental builds"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"option-2-versioned-pre-release-proper",children:"Option 2: Versioned Pre-Release (Proper)"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Use when:"})," You want tracked, proper pre-release versions for beta/rc cycles."]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Steps:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Create changeset:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'pnpm changeset\n# Select: chatline\n# Bump: patch/minor/major (determines final version)\n# Summary: "Add new experimental feature"\n'})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Version the package:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"pnpm changeset version\n# Creates: 0.0.1-next.0 (if in next channel)\n# Updates: CHANGELOG.md with entry\n# Deletes: consumed changeset files\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Commit the version:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'git add .\ngit commit -m "chore: version 0.0.1-next.0"\ngit push origin main\n'})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Publish to npm:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"pnpm publish --tag next\n# Publishes to npm with @next dist-tag\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Version progression:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"First pre-release:  0.0.1-next.0\nSecond pre-release: 0.0.1-next.1\nThird pre-release:  0.0.1-next.2\n...\nExit pre-mode:      0.0.1 (stable)\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Users install:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm install chatline@next\n# or pin specific version:\nnpm install chatline@0.0.1-next.0\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"When to use:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Structured beta testing"}),"\n",(0,l.jsx)(n.li,{children:"Release candidates"}),"\n",(0,l.jsx)(n.li,{children:"Multi-week pre-release cycles"}),"\n",(0,l.jsx)(n.li,{children:"When you need version tracking in CHANGELOG"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"option-3-automated-nightly-hands-off",children:"Option 3: Automated Nightly (Hands-Off)"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Use when:"})," You want automatic daily canary builds."]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Setup:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u2705 ",(0,l.jsx)(n.strong,{children:"Already configured"})," - ",(0,l.jsx)(n.code,{children:"alpha-snapshot.yml"})," workflow"]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Runs daily at ",(0,l.jsx)(n.strong,{children:"02:00 UTC"})]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Only runs when ",(0,l.jsx)(n.strong,{children:"pre-release mode is active"})]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Publishes with ",(0,l.jsx)(n.code,{children:"@alpha"})," tag"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"What it does:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Checks if ",(0,l.jsx)(n.code,{children:".changeset/pre.json"})," exists"]}),"\n",(0,l.jsxs)(n.li,{children:["If pre-mode is active:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Runs ",(0,l.jsx)(n.code,{children:"changeset version --snapshot alpha"})]}),"\n",(0,l.jsxs)(n.li,{children:["Creates version like: ",(0,l.jsx)(n.code,{children:"0.0.1-alpha-20251116020000"})]}),"\n",(0,l.jsxs)(n.li,{children:["Publishes to npm with ",(0,l.jsx)(n.code,{children:"@alpha"})," tag"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["If pre-mode is off:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Skips publishing (prevents confusion)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Users install:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm install chatline@alpha\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"When to use:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Continuous testing environments"}),"\n",(0,l.jsx)(n.li,{children:"Automated QA pipelines"}),"\n",(0,l.jsx)(n.li,{children:"Night owls who want fresh builds daily"}),"\n",(0,l.jsx)(n.li,{children:'"Living on the edge" early adopters'}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"common-workflows",children:"Common Workflows"}),"\n",(0,l.jsx)(n.h3,{id:"workflow-1-quick-pre-release-for-testing-in-pre-mode",children:"Workflow 1: Quick Pre-Release for Testing (In Pre-Mode)"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Scenario:"})," You fixed a bug and want to test it immediately (while in\npre-mode)."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# 1. Commit your fix to main\ngit add .\ngit commit -m "fix: resolve critical bug"\ngit push origin main\n\n# 2. Create changeset for the fix\npnpm changeset\n# Select: chatline\n# Bump: patch\n# Summary: "Fix critical bug"\n\n# 3. Version the pre-release\npnpm changeset version\n# Creates: 0.0.1-next.0 (or next increment)\n\n# 4. Commit the version\ngit commit -am "chore: version 0.0.1-next.0"\ngit push origin main\n\n# 5. Publish to npm\npnpm publish:pre\n\n# 6. Test it\nnpm install chatline@next\n# Run your tests...\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Alternative: Quick Snapshot (NOT in pre-mode)"})}),"\n",(0,l.jsx)(n.p,{children:"If you're NOT in pre-release mode and need instant publish:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# 1. Commit your fix\ngit commit -am "fix: resolve critical bug"\n\n# 2. Publish snapshot (only works if NOT in pre-mode)\npnpm release:snapshot:canary\n\n# 3. Test it\nnpm install chatline@canary\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"workflow-2-structured-beta-cycle",children:"Workflow 2: Structured Beta Cycle"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Scenario:"})," You're preparing a 0.1.0 release with new features."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# 1. Enter beta mode\ngh workflow run pre-mode.yml -f action=enter -f channel=beta\n# Merge the PR that gets created\n\n# 2. Add features with changesets\npnpm changeset  # For each feature\ngit commit -am "chore: add changeset"\n\n# 3. Version and publish beta.0\npnpm changeset version  # Creates 0.1.0-beta.0\ngit commit -am "chore: version 0.1.0-beta.0"\npnpm publish --tag beta\n\n# 4. Iterate (fixes, more features)\npnpm changeset  # For each change\npnpm changeset version  # Creates 0.1.0-beta.1, beta.2, etc.\ngit commit -am "chore: version 0.1.0-beta.1"\npnpm publish --tag beta\n\n# 5. Exit beta when ready for stable\ngh workflow run pre-mode.yml -f action=exit -f channel=beta\n# Merge the PR\n\n# 6. Final stable release\npnpm changeset version  # Creates 0.1.0 (stable)\ngit commit -am "chore: version 0.1.0"\npnpm publish  # Publishes to @latest (default)\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"workflow-3-multi-channel-promotion",children:"Workflow 3: Multi-Channel Promotion"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Scenario:"})," You want to graduate a release through next \u2192 beta \u2192 rc \u2192 stable."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Stage 1: Canary (next channel)\ngh workflow run pre-mode.yml -f action=enter -f channel=next\n# ... merge PR ...\npnpm changeset version  # 0.1.0-next.0\npnpm publish --tag next\n# ... test with early adopters ...\n\n# Stage 2: Beta\ngh workflow run pre-mode.yml -f action=exit -f channel=next\n# ... merge PR ...\ngh workflow run pre-mode.yml -f action=enter -f channel=beta\n# ... merge PR ...\npnpm changeset version  # 0.1.0-beta.0\npnpm publish --tag beta\n# ... broader testing ...\n\n# Stage 3: Release Candidate\ngh workflow run pre-mode.yml -f action=exit -f channel=beta\n# ... merge PR ...\ngh workflow run pre-mode.yml -f action=enter -f channel=rc\n# ... merge PR ...\npnpm changeset version  # 0.1.0-rc.0\npnpm publish --tag rc\n# ... final validation ...\n\n# Stage 4: Stable Release\ngh workflow run pre-mode.yml -f action=exit -f channel=rc\n# ... merge PR ...\npnpm changeset version  # 0.1.0\npnpm publish  # @latest\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"channel-strategy",children:"Channel Strategy"}),"\n",(0,l.jsx)(n.h3,{id:"channel-comparison",children:"Channel Comparison"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Channel"}),(0,l.jsx)(n.th,{children:"Tag"}),(0,l.jsx)(n.th,{children:"Stability"}),(0,l.jsx)(n.th,{children:"Frequency"}),(0,l.jsx)(n.th,{children:"Use Case"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"canary"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"@canary"})}),(0,l.jsx)(n.td,{children:"Unstable"}),(0,l.jsx)(n.td,{children:"On-demand snapshots"}),(0,l.jsx)(n.td,{children:"Quick testing, WIP shares"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"next"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"@next"})}),(0,l.jsx)(n.td,{children:"Unstable"}),(0,l.jsx)(n.td,{children:"Daily or as-needed"}),(0,l.jsx)(n.td,{children:"Fast iteration, early adopters"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"alpha"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"@alpha"})}),(0,l.jsx)(n.td,{children:"Unstable"}),(0,l.jsx)(n.td,{children:"Nightly (02:00 UTC)"}),(0,l.jsx)(n.td,{children:"Automated QA, continuous testing"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"beta"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"@beta"})}),(0,l.jsx)(n.td,{children:"Semi-stable"}),(0,l.jsx)(n.td,{children:"Weekly sprints"}),(0,l.jsx)(n.td,{children:"Feature-complete testing"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"rc"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"@rc"})}),(0,l.jsx)(n.td,{children:"Stable"}),(0,l.jsx)(n.td,{children:"Pre-release only"}),(0,l.jsx)(n.td,{children:"Final validation before release"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"latest"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"@latest"})}),(0,l.jsx)(n.td,{children:"Stable"}),(0,l.jsx)(n.td,{children:"Production releases"}),(0,l.jsx)(n.td,{children:"End users"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"recommended-strategy",children:"Recommended Strategy"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"For rapid iteration:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Development \u2192 next (canary) \u2192 latest (stable)\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"For structured releases:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Development \u2192 beta \u2192 rc \u2192 latest\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"For continuous delivery:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Development \u2192 next \u2192 alpha (nightly) \u2192 beta \u2192 latest\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Current setup (recommended for initial releases):"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Development \u2192 next \u2192 latest\n         (canary mode)  (first stable release)\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"problem-pre-mode-workflow-fails-with-no-changes-to-commit",children:'Problem: Pre-mode workflow fails with "no changes to commit"'}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Cause:"})," The workflow already ran and pre-mode is already active/inactive."]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Check current status\ncat .changeset/pre.json\n\n# If file exists, you're in pre-mode\n# If file doesn't exist, you're in normal mode\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"problem-published-to-wrong-tag",children:"Problem: Published to wrong tag"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Symptom:"})," Published to ",(0,l.jsx)(n.code,{children:"@latest"})," instead of ",(0,l.jsx)(n.code,{children:"@next"})]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Cause:"})," Didn't specify ",(0,l.jsx)(n.code,{children:"--tag"})," flag when publishing."]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Always specify tag when in pre-mode\npnpm publish --tag next  # For next channel\npnpm publish --tag beta  # For beta channel\npnpm publish --tag rc    # For rc channel\n\n# For stable releases (no pre-mode)\npnpm publish  # Defaults to @latest\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"problem-snapshot-doesnt-work",children:"Problem: Snapshot doesn't work"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Error:"})," ",(0,l.jsx)(n.code,{children:"changeset version --snapshot"})," fails with:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"\ud83e\udd8b error Snapshot release is not allowed in pre mode\n\ud83e\udd8b To resolve this exit the pre mode by running `changeset pre exit`\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Cause:"})," You're in pre-release mode. Changesets does NOT support snapshots\nwhen ",(0,l.jsx)(n.code,{children:".changeset/pre.json"})," exists."]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Option 1: Exit pre-mode to use snapshots"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Exit pre-release mode\ngh workflow run pre-mode.yml -f action=exit -f channel=next\n# Wait for PR to be created and merged\n\n# Then snapshots will work\npnpm release:snapshot:canary\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Option 2: Use versioned pre-releases instead (recommended)"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Stay in pre-mode and use proper versioned pre-releases\npnpm changeset           # Create changeset\npnpm changeset version   # Creates 0.0.1-next.0\npnpm publish:pre         # Publish to @next tag\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note:"})," Snapshots only work when NOT in pre-release mode. This is a Changesets\nlimitation, not a configuration issue."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"problem-cant-exit-pre-mode",children:"Problem: Can't exit pre-mode"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Error:"})," Workflow succeeds but still in pre-mode"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Cause:"})," PR wasn't merged, or file was recreated."]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# Verify PR merged\ngh pr list --state merged --search "exit next channel"\n\n# If merged but file still exists, manually remove\ngit rm .changeset/pre.json\ngit commit -m "chore: exit pre-release mode manually"\ngit push origin main\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"problem-version-number-is-wrong",children:"Problem: Version number is wrong"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Symptom:"})," Expected ",(0,l.jsx)(n.code,{children:"0.0.1-next.0"})," but got ",(0,l.jsx)(n.code,{children:"0.0.2-next.0"})]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Cause:"})," Base version in ",(0,l.jsx)(n.code,{children:"pre.json"})," doesn't match ",(0,l.jsx)(n.code,{children:"package.json"})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Check versions match\ncat package.json | grep version\ncat .changeset/pre.json | grep initialVersions\n\n# If mismatched, exit and re-enter pre-mode\ngh workflow run pre-mode.yml -f action=exit -f channel=next\n# ... merge PR ...\ngh workflow run pre-mode.yml -f action=enter -f channel=next\n# ... merge PR ...\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,l.jsx)(n.h3,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/chatline/docs/automated-release-workflow",children:"Automated Release Workflow"})," - Main release\ndocumentation"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/chatline/docs/release-channels",children:"Release Channels"})," - Channel strategy deep-dive"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/chatline/docs/releases/changesets-canonical",children:"Changesets Canonical Flow"})," - Quick\nreference"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"external-links",children:"External Links"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/changesets/changesets/blob/main/docs/prereleases.md",children:"Changesets Pre-release Docs"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.npmjs.com/cli/v9/commands/npm-dist-tag",children:"npm dist-tags"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://semver.org/",children:"Semantic Versioning"})}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"package-scripts-reference",children:"Package Scripts Reference"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "pre:enter:beta": "changeset pre enter beta",\n  "pre:enter:next": "changeset pre enter next",\n  "pre:enter:rc": "changeset pre enter rc",\n  "pre:exit": "changeset pre exit",\n  "publish:pre": "changeset publish --provenance",\n  "release:snapshot:canary": "changeset version --snapshot canary && changeset publish --tag canary",\n  "version:pre": "changeset version"\n}\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Pre-release mode is:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"A way to publish test versions without affecting stable users"}),"\n",(0,l.jsxs)(n.li,{children:["Controlled by the presence of ",(0,l.jsx)(n.code,{children:".changeset/pre.json"})," file"]}),"\n",(0,l.jsxs)(n.li,{children:["Toggled using the ",(0,l.jsx)(n.code,{children:"pre-mode.yml"})," workflow (creates PRs for review)"]}),"\n",(0,l.jsx)(n.li,{children:"Used for canary, beta, and RC releases before stable"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Publishing options:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Snapshot"})," (",(0,l.jsx)(n.code,{children:"pnpm release:snapshot:canary"}),") - Quick, throwaway builds"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Versioned"})," (",(0,l.jsx)(n.code,{children:"pnpm changeset version && pnpm publish --tag next"}),") - Tracked\npre-releases"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Automated"})," (nightly workflow) - Hands-off daily builds"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Current setup:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u2705 Pre-release mode active with ",(0,l.jsx)(n.code,{children:"next"})," channel"]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Base version: ",(0,l.jsx)(n.code,{children:"0.0.1"})]}),"\n",(0,l.jsx)(n.li,{children:"\u2705 Nightly snapshots configured"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 Ready for first canary release!"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Last Updated:"})," 2025-11-16 ",(0,l.jsx)(n.strong,{children:"Status:"})," Active (next mode at 0.0.1)"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},5705:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>d});var r=s(7701);const l={},i=r.createContext(l);function t(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);